<template name="paypalSettings">
  <div id="paypal-config">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Pay with PayPal button</h3>
        <br>
        <button type="button" class="btn btn-success" onclick="runPaypalTour()">Take Tour</button>
      </div>
      <script>
        function runPaypalTour() {
          introJs("#paypal-config").start();
        }
      </script>
      <div class="panel-body">
        {{#autoForm
          collection="ReactionCore.Collections.Packages"
          schema=PaypalPackageConfig
          doc=packageData
          type="update"
          id="paypal-update-form-express"
        }}

          <div class="form-group">
            Don't have a PayPal username, password and signature? <a
              href="https://developer.paypal.com/webapps/developer/applications/accounts" target="_blank">Get one
            here.</a>
          </div>

          {{>afQuickField name='settings.express_enabled' type="boolean-select" trueLabel="Enabled" falseLabel="Disabled" style="width: auto" data-intro="Enable or disable express" data-position="auto"}}
          {{>afQuickField name="settings.express_auth_and_capture"
            data-intro="Set whether you should capture at auth."
            data-position="auto"}}
          {{>afQuickField name='settings.merchantId' data-intro="Set the merchant ID gotten from paypal" data-position="auto"}}
          {{>afQuickField name='settings.username' data-intro="Set your username" data-position="auto"}}
          {{>afQuickField name='settings.password' type="password" data-intro="Set your password" data-position="auto"}}
          {{>afQuickField name='settings.signature' data-intro="Set the signature obtained from paypal" data-position="auto"}}
          {{>afQuickField name='settings.express_mode' type="boolean-select" trueLabel="Live - Production Mode" falseLabel="Testing - Sandbox Mode" style="width: auto" data-intro="Set your express mode, whether testing or production" data-position="auto"}}

          <button type="submit" class="btn btn-primary pull-right">Save Changes</button>
        {{/autoForm}}
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Payflow Pro</h3>
      </div>
      <div class="panel-body">
        {{#autoForm
          collection="ReactionCore.Collections.Packages"
          schema=PaypalPackageConfig
          doc=packageData
          type="update"
          id="paypal-update-form-payflow"
        }}

          <div class="form-group">
            Don't have a PayPal client ID and secret? <a
              href="https://developer.paypal.com/webapps/developer/applications" target="_blank">Get them here.</a>
          </div>
          {{>afQuickField name='settings.payflow_enabled' type="boolean-select" trueLabel="Enabled" falseLabel="Disabled" style="width: auto" data-intro="Enable or disable payflow." data-position="auto"}}
          {{>afQuickField name='settings.client_id' data-intro="Set your payflow client ID" data-position="auto"}}
          {{>afQuickField name='settings.client_secret' type="password" data-intro="Set your payflow client secret" data-position="auto"}}
          {{>afQuickField name='settings.payflow_mode' type="boolean-select" trueLabel="Live - Production Mode" falseLabel="Testing - Sandbox Mode" style="width: auto" data-intro="Set your playflow mode, whether testing or production" data-position="auto"}}
          <button type="submit" class="btn btn-primary pull-right">Save Changes</button>
        {{/autoForm}}
      </div>
    </div>
  </div>
</template>
